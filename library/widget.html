{{- $theming := "default" -}}
{{- with .Site.Params.System.Themes -}}{{- $theming = ( . | urlize ) -}}{{- end -}}

{{- $model := "" -}}

{{- $skins := "" -}}


{{- $widget_paths := "" -}}
{{- $widget_based :=  printf "widget/%s/%s/render.html" $model $skins  -}}
{{- $widget_modul :=  printf "module/%s/widget/%s/%s/render.html" .Section $model $skins -}}
{{- $widget_theme :=  printf "themes/%s/widget/%s/%s/render.html" $theming $model $skins -}}
{{- $widget_skins :=  printf "themes/%s/module/%s/widget/%s/%s/render.html" $theming .Section $model $skins -}}


{{- if templates.Exists ( printf "partials/%s" $widget_based ) -}}
    {{- $widget_render = $widget_based -}}
{{- end -}}

{{- if templates.Exists ( printf "partials/%s" $widget_modul ) -}}
    {{- $widget_render = $widget_modul -}}
{{- end -}}


{{- if templates.Exists ( printf "partials/%s" $widget_theme ) -}}
    {{- $widget_render = $widget_theme -}}
{{- end -}}


{{- if templates.Exists ( printf "partials/%s" $widget_skins ) -}}
    {{- $widget_render = $widget_skins -}}
{{- end -}}


{{- if templates.Exists ( printf "partials/%s" $widget_paths ) -}}
    {{- partial $widget_paths . -}}
{{- end -}}